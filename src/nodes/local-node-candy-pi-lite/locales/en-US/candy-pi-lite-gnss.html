<!--
  Copyright (c) 2018 CANDY LINE INC.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<script type="text/x-red" data-help-name="CANDY Pi Lite gnss in">
<p>
Emits a JSON object containing the obtained latitude and longitude
from the GNSS/GPS module on the connected CANDY Pi Lite/CANDY Pi Lite+ board.
</p>
<p>
NMEA can be available via the dedicated USB serial port shown in the dialog as
<code>NMEA Port</code>. You can use the serial port with <code>serialport</code> node
to subscribe NMEA sentences. <b>Note that this node NEVER emits NMEA sentences.</b>
In addition, NMEA Serial Port is available only when CANDY Pi Lite/CANDY Pi Lite+ board is
connected via USB.
</p>

<dl>
<dt>Name</dt>
<dd>
  the identifier of the GNSS data. This name is shared on this computer.
</dd>
<dt>Output format</dt>
<dd>
  the format type for the outgoing message.
  <code>worldmap</code> is applicable for <code>worldmap</code> node.
  <code>raw</code> is the same as the <code>candy gnss locate</code> command output.
</dd>
<dt>Run GNSS on start-up</dt>
<dd>
  whether or not to run GNSS session on starting the flow. <b>Note that this precedes <code>candy-pi-lite</code> settings.</b>
</dd>
<dt>NMEA Port</dt>
<dd>
  the serial port identifier available for NMEA sentence subscription.
  <code>Not Available</code> is shown when NMEA is not available.
</dd>
</dl>

<h3>Outputs</h3>
<dl class="message-properties">
<dt>date<span class="property-type">string</span></dt>
<dd>
UTC date when positioning in ISO8601 format
</dd>
<dt>lat (latitude)<span class="property-type">float</span></dt>
<dd>
The latitude value of the position. <code>latitude</code> is used in the raw format.
</dd>
<dt>lon (longitude)<span class="property-type">float</span></dt>
<dd>
The longitude value of the position. <code>longitude</code> is used in the raw format.
</dd>
<dt>acuracy (hdop)<span class="property-type">float</span></dt>
<dd>
Horizontal precision. <code>hdop</code> is used in the raw format.
</dd>
<dt>altitude<span class="property-type">float</span></dt>
<dd>
The altitude of the antenna away from the sea level in meters
</dd>
<dt>cog<span class="property-type">float</span></dt>
<dd>
Ground heading based on the <b>north</b> in degrees. <b>Used in the raw format only.</b>
</dd>
<dt>bearing<span class="property-type">float</span></dt>
<dd>
Ground heading based on the <b>south</b> in degrees. <b>Used in the worldmap format only.</b>
</dd>
<dt>nsat<span class="property-type">int</span></dt>
<dd>
The number of satellites
</dd>
<dt>speed (spkm)<span class="property-type">float</span></dt>
<dd>
Speed over ground in km/h. <code>spkm</code> is used in the raw format.
</dd>
<dt>spkn<span class="property-type">float</span></dt>
<dd>
Speed over ground in knots
</dd>
<dt>fix<span class="property-type">string</span></dt>
<dd>
GNSS positioning mode (2D or 3D)
</dd>
</script>
